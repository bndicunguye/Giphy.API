<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>GIPHY</title>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <meta charset="utf-8">
    <title>GIPHY</title>
    <style type="text/css">
        button,
        div,
        form,
        input {
            margin: 10px;
        }
    </style>
</head>

<body>
    <!-- <div class="container">
                
                <!-- Rendered Buttons will get Dumped Here  -->
    <div id="buttons-view"></div>

    <form id="gif-form">
        <label for="gif-input">Add gifs</label>
        <input type="text" id="gif-input">
        <br>


        <input id="add-gifs" type="submit" value="add gifs ">
    </form>


    <div id="gifs-view"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var gifs = ["nba the jump", "nba first take", "nba meme", "nba tnt"]

        var APIKey = "XDWAo3gdeLFUgRqyYAXfy33QO40hbilW";
        

        // var gifs = $(this).attr("data-name");
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + gifs + "&api_key=" + APIKey + "&limit=10";
        $.ajax({
            url: queryURL,
            method: "GET"

        }).then(function (response) {
            var gifsDiv = $("<div class='gifs'>");
            var imgURL = response.images;

            var image = $("<img>").attr("src", imgURL);

            gifsDiv.append(image);

            $("#gifs-view").html(JSON.stringify(response));
            console.log(response)
        });
        function renderButtons() {
            $("#buttons-view").empty();
            console.log(gifs)
            for (var i = 0; i < gifs.length; i++) {

                var a = $("<button>");

                a.addClass("gif-btn");

                a.attr("data-name", gifs[i]);

                a.text(gifs[i]);

                $("#buttons-view").append(a);
            }


         }
         $("#add-gifs").click(function(e){
             e.preventDefault()
             var newGif = $("#gif-input").val()
             console.log(newGif)
             gifs.push(newGif);
             renderButtons()
         })
         renderButtons()










    </script>
    </div>
</body>

</html>